# FO4 선수 데이터 크롤링

# 프로젝트 개요

피파온라인4 공식 홈페이지에서는 선수별로 해당 선수가 가지는 정보들을 조회할 수 있는 '데이터센터'가 존재한다. 이 '선수'는 '선수 카드'라는 말로 대체될 수도 있으며, 나의 팀에 원하는 선수를 뛰게 하기 위해선 해당 선수 카드 구매가 필요하다. 선수 카드는 여러가지 시즌이 존재하며, 같은 선수라도 다른 시즌의 카드는 다른 선수로 취급한다 (가지고 있는 스탯이 상이하기 때문).

현재 45,000여명의 선수 카드들이 있으며, 각 선수 카드는 spid 라는 이름의 고유한 id를 가진다. 선수 정보는 Base URL에 선수 spid가 포함된 GET 요청을 보내면 그 응답으로 얻을 수 있다. 전반적인 목표는 다음과 같다.

- 피파온라인4 공식 홈페이지에서 제공하는 각 선수들의 데이터를 크롤링
- 검색이 용이하도록 크롤링한 데이터들을 DB에 저장
- 데이터 중 선수의 '가격' 정보는 매일 업데이트 되므로 24시간에 한번씩 새로 받아와서 업데이트 할 것
- 후에 로스터 업데이트 등으로 선수 pool 이 달라져도 재사용 가능한 코드로 작성할 것

# 학습하고자 하는 내용

- 크롤링을 통한 전반적인 네트워크 시스템, API 통신에 대한 이해
- 데이터베이스, 쿼리 등에 대한 이해

# 크롤링 아이디어

### 브라우저에서 선수들의 데이터를 우리가 조회하는 과정

1. 클라이언트(본인 컴퓨터)가 공식 홈페이지 서버(FO4 서버)에 특정 요청(ex. GET)을 보냄
2. 그 응답을 HTML, CSS, JS에 맞춰 브라우저에서 출력
3. 브라우저 화면을 통해 데이터를 조회

본인이 가져오고자 하는 대부분의 데이터는 HTML 파일 내에 존재하므로, 파이썬 requests 모듈을 이용해 서버에 직접 요청을 보내 응답을 받고, 응답받은 내용으로부터 원하는 데이터를 BeatifulSoup 모듈로 뽑아낼 것이다. (파싱 과정)

# 구현 과정

## API 서버로 부터 데이터 다운로드

선수 전체의 spid 목록을 얻기 위해 API Doc에 적힌 주소로 GET 요청을 보내 json 형태의 spid.json을 다운로드 한다.